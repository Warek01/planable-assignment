import{w as I}from"./with-props-Nl8GaAsT.js";import{a as g,n as e,N as b,O as w}from"./chunk-SYFQ2XB5-ePwPyWlc.js";import{c as F,A as N,F as S,a as v,b as k,d as y,T as C,U as A}from"./index-D4RdMiD_.js";import{u as j,b as p,e as E,f as a,g as i,h as z,o as u,i as c,j as D,k as M,l as W,n as T,s as X,q as L,t as O,v as m,d as Y,w as $,x as G}from"./redux-D9f6bYtA.js";import"./index-Gr51Cw-a.js";const H=()=>{const s=j(),t=p(E),[n,o]=g.useState(""),d=!!n.trim(),r=t.includes(n),h=()=>{r||!d||(s(D({folderName:n.trim()})),o(""))},l=x=>{x.key==="Enter"&&h()},f=x=>{o(x.target.value)};return e.jsxs(a,{children:[e.jsxs(i,{align:"center",gap:"1",children:[e.jsx(z,{onKeyDown:l,placeholder:"Folder name",value:n,onChange:f}),e.jsx(u,{onClick:h,disabled:r,children:"Create"})]}),e.jsxs(c,{size:"1",color:"red",className:F("block text-ellipsis whitespace-nowrap overflow-hidden",{"opacity-0":!r||!d}),children:[n," already exists"]})]})},K=()=>{const s=j();return g.useEffect(()=>{s(M()),s(W())},[]),e.jsx(a,{pt:"4",pb:"8",pr:"2",pl:"4",height:"100vh",maxHeight:"100vh",children:e.jsxs(i,{height:"100%",direction:"column",gapY:"8",children:[e.jsx(b,{to:N.HOME,children:e.jsxs(i,{gapX:"2",align:"center",children:[e.jsx(T,{fallback:"M",src:"/icon.png",size:"2"}),e.jsx(c,{size:"3",weight:"regular",children:"Media gallery"})]})}),e.jsxs(i,{direction:"column",gapY:"4",overflow:"auto",children:[e.jsx(c,{size:"2",weight:"medium",className:"px-2",children:"Folders"}),e.jsx(S,{}),e.jsx(H,{})]}),e.jsxs(i,{direction:"column",gapY:"4",children:[e.jsx(c,{size:"2",weight:"medium",className:"px-2",children:"Filters"}),e.jsx(v,{})]})]})})},R=()=>{const s=p(X),t=p(L),n=j(),o=l=>{s&&(n(m()),s.id!==l.id&&n(Y({itemIds:t,srcFolderId:s.id,dstFolderId:l.id})))},d=()=>{if(!s)return;const l=t.length?m():$({itemIds:s.itemIds});n(l)},r=()=>{s&&(n(G({itemIds:t,folderId:s.id})),n(m()))},h=g.useMemo(()=>t.length?t.length===(s==null?void 0:s.itemIds.length)?!0:"indeterminate":!1,[t.length,s==null?void 0:s.itemIds.length]);return e.jsxs(i,{flexShrink:"0",align:"center",height:"64px",gapX:"6",mr:"2",className:"border-b border-b-secondary/10",children:[e.jsx("label",{children:e.jsxs(i,{align:"center",gapX:"2",children:[e.jsx(O,{onClick:d,checked:h}),e.jsxs(c,{className:"text-secondary/60",children:[t.length," selected"]})]})}),e.jsxs(i,{gapX:"3",children:[!!t.length&&e.jsxs(e.Fragment,{children:[e.jsx(k,{onSelect:o,disabled:!t.length,selected:s,tooltip:"Move items to"}),e.jsx(y,{content:`Delete ${t.length} items`,children:e.jsx(u,{disabled:!t.length,onClick:r,children:e.jsx(C,{})})})]}),e.jsx(A,{})]})]})},U=()=>e.jsxs(i,{maxWidth:"100vw",height:"100vh",children:[e.jsx(a,{minWidth:"232px",maxWidth:"232px",children:e.jsx(a,{minWidth:"232px",maxWidth:"232px",position:"fixed",children:e.jsx(K,{})})}),e.jsxs(i,{direction:"column",flexGrow:"1",children:[e.jsx(R,{}),e.jsx(a,{flexGrow:"1",children:e.jsx(w,{})})]})]}),Q=I(U);export{Q as default};
